# This is the Belchertown skin charting system which utilizes Highcharts to display the chart data.
#
# PLEASE READ THE CHARTS WIKI! A lot of information is there and it will help you! 
# It is located here: https://github.com/poblabs/weewx-belchertown/wiki/Belchertown-Charts-Documentation
#   
# Caution!
# The more charts you have, the slower things can become. This is especially true at the YEAR level. These are interactive charts which have to build plot points from the database on every archive interval. This could result in large file sizes to generate, and for your website visitors to download. You're welcome to customize as many charts as you want, but be warned things could slow down if you do too much!
# The defaults in this skin have proven to be a good baseline for the number of charts and options without overwhelming your system. 
#
# Overview of options:
# A timespan refers to "day", "week", "month" or "year". 
# The first configuration item is the graph group, such as [day], [week], [month], [year] sections. 
# The charts are defined under the graph group and can be renamed and reorganized. They will display on your website in the order they appear here.
# Under the chart are the observation names from the WeeWX database. Any item within your database "archive type" can be charted. For a list of "archive types" refer to this chart. http://weewx.com/docs/customizing.htm#archive_types
# Each observation can be customized with built-in Highcharts "series" options. Popular ones are color, name and zIndex. For a list of Highcharts Series options refer to https://api.highcharts.com/highcharts/series 
#
# If a custom option broke your charts:
# Undo your change and run wee_reports. You do not need to restart weewx if you make a graphs.conf change.
# If that doesn't work, undo ALL changes and go back to the default graphs.conf.example configuration.
# There is no guarantee that every customization option will work. 
#
# Detailed settings overview can be found in the wiki under Detailed Configuration Settings Overview
#
###############################################################################

# Global Chart Defaults
# These are fallback options that charts will use if an option is not defined. 
aggregate_type = None
time_length = 90000 # Last 25 hours
type = line
colors = "#7cb5ec, #b2df8a, #f7a35c, #8c6bb1, #dd3497, #e4d354, #268bd2, #f45b5b, #6a3d9a, #33a02c"
tooltip_date_format = "LLL"

[homepage]
    # Chart Timespan Defaults
    title = "Since Midnight"
    show_button = true
    button_text = "Since Midnight"
    time_length = today
    tooltip_date_format = "LLL"
    gapsize = 300 # This should be your archive_interval from weewx.conf

    [[chart1]]
        title = Temperature
        [[[outTemp]]]
            zIndex = 1
            name = Temperature
        [[[windchill]]]
        [[[heatindex]]]
            color = "#f7a35c"
        [[[dewpoint]]]
            color = purple
    
    [[roseplt]]
        title = Wind Rose
        [[[windRose]]]

    [[Chart2]]
        title = Wind Speed Today
        time_length = today
        [[[haysChart]]]
            color = "#ff4500"
            yAxis_softMax = 25
    
    [[chart3]]
        title = Rain
        [[[rainRate]]]
            yAxis = 1
        [[[rainTotal]]]
            name = Rain Total
    
    [[chart4]]
        title = Barometer
        type = spline
        [[[barometer]]]
            color = "#BECC00"
            yAxis_tickinterval = 0.01

            
    [[solarRadGraph]]
        title = Solar Radiation and  UV Index
        [[[radiation]]]
            name = Solar Radiation
            zIndex = 1
            color = "#ffc83f"
        [[[maxSolarRad]]]
            name = Theoretical Max Solar Radiation
            type = area
            color = "#f7f2b4"
            yAxis_label = "W/m2"
        [[[UV]]]
            yAxis = 1
            yAxis_min = 0
            yAxis_max = 14
            color = "#90ed7d"
            yAxis_label = "UV"
            name = UV Index
            zIndex = 2

    [[chart5]]
        title = AQI History
        aggregate_interval = hour
        start_at_whole_hour = true
        gapsize = 3600
        [[[pm2_5_aqi]]]
            zIndex = 1
            aggregate_type=avg
            name = PM 2.5
            color = red
        [[[pm10_0]]]
            name = PM 10.0
            color = purple
            aggregate_type=avg
            
[day]
    title = "Past 24 Hours"
    show_button = true
    time_length = day_ago_to_now
    time_ago = 1 
    button_text = "Past 24 Hours"
    tooltip_date_format = "LLL"
    gapsize = 300 # This should be your archive_interval from weewx.conf

    [[chart1]]
        title = Temperature
        [[[outTemp]]]
            zIndex = 1
            name = Temperature
        [[[windchill]]]
        [[[heatindex]]]
            color = "#f7a35c"
        [[[dewpoint]]]
            color = purple
    
     [[roseplt]]
        title = Wind Rose
        [[[windRose]]]

    [[Chart2]]
        title = Wind Speed Today
        [[[haysChart]]]
            color = "#ff4500"
            yAxis_softMax = 25

    [[chart3]]
        title = Rain
        [[[rainRate]]]
            yAxis = 1
        [[[rainTotal]]]
            name = Rain Total
    
    [[chart4]]
        title = Barometer
        type = spline
        [[[barometer]]]
            color = "#BECC00"
    
    [[solarRadGraph]]
        title = Solar Radiation and  UV Index
        [[[radiation]]]
            name = Solar Radiation
            zIndex = 1
            color = "#ffc83f"
        [[[maxSolarRad]]]
            name = Theoretical Max Solar Radiation
            type = area
            color = "#f7f2b4"
            yAxis_label = "W/m2"
        [[[UV]]]
            yAxis = 1
            yAxis_min = 0
            yAxis_max = 14
            color = "#90ed7d"
            yAxis_label = "UV"
            name = UV Index
            zIndex = 2

    [[chart5]]
        title = AQI History
        aggregate_interval = hour
        start_at_whole_hour = true
        gapsize = 3600
        [[[pm2_5_aqi]]]
            zIndex = 1
            aggregate_type=avg
            name = PM 2.5
            color = red
        [[[pm10_0]]]
            name = PM 10.0
            color = purple
            aggregate_type=avg
            
[week]
    # Chart Timespan Defaults
    title = "This Week"
    show_button = true
    button_text = "Week"
    time_length = 604800 # Last 7 days
    tooltip_date_format = "LLLL"
    aggregate_type = max
    aggregate_interval = 3600 # 1 hour
    gapsize = 3600 # 1 hour in seconds

    [[chart1]]
        title = Temperature
        [[[outTemp]]]
            zIndex = 1
            name = Temperature
        [[[windchill]]]
        [[[heatindex]]]
            color = "#f7a35c"
        [[[dewpoint]]]
            color = purple
    
    [[chart2]]
        # The combined Wind Chart works best in this configuration
        title = Wind Speed
        yAxis_min = 0
        [[[windGust]]]
            zIndex = 1
            yAxis = 0
            yAxis_max = 200
        [[[windSpeed]]]
            zIndex = 2
    
    [[chart3]]
        title = Rain
        [[[rainRate]]]
            yAxis = 1
        [[[rainTotal]]]
            name = Rain Total
    
    [[chart4]]
        title = Barometer
        aggregate_type = avg
        [[[barometer]]]
            color = "#BECC00"

    [[chart5]]
        title = AQI History
        aggregate_interval = hour
        start_at_whole_hour = true
        gapsize = 3600
        [[[pm2_5_aqi]]]
            zIndex = 1
            aggregate_type=avg
            name = PM 2.5
            color = red
        [[[pm10_0]]]
            name = PM 10.0
            color = purple
            aggregate_type=avg

    [[chart6]]
        title = UV History
        aggregate_interval = hour
        start_at_whole_hour = true
        gapsize = 3600
        [[[UV]]]
            zIndex = 1
            aggregate_type=avg
            name = UV Index
            color = red

        
[month]
    # Chart Timespan Defaults
    title = "This Month"
    show_button = true
    button_text = "Month"
    type = spline
    time_length = 2592000 # Last 30 days
    tooltip_date_format = "dddd LL"
    aggregate_type = max
    aggregate_interval = 86400 # 1 day
    gapsize = 86400 # 1 day in seconds

    [[chart1]]
        title = Temperature
        [[[outTemp]]]
            zIndex = 1
            name = Max Temperature
            color = red
        [[[outTemp_min]]]
            name = Min Temperature
            observation_type = outTemp
            aggregate_type = min
            color = "#7cb5ec"
    
    [[chart2]]
        # The combined Wind Chart works best in this configuration
        title = Wind Speed
        yAxis_min = 0
        [[[windGust]]]
            zIndex = 1
            yAxis = 0
            yAxis_max = 200
        [[[windSpeed]]]
            zIndex = 2
    
    [[chart3]]
        title = Rain
        type = line
        [[[rainRate]]]
            yAxis = 1
        [[[rainTotal]]]
            name = Rain Total
    
    [[chart4]]
        title = Barometer
        aggregate_type = avg
        [[[barometer]]]
            color = "#BECC00"

    [[chart5]]
        title = AQI History
        aggregate_interval = hour
        start_at_whole_hour = true
        gapsize = 3600
        [[[pm2_5_aqi]]]
            zIndex = 1
            aggregate_type=avg
            name = PM 2.5
            color = red
        [[[pm10_0]]]
            name = PM 10.0
            color = purple
            aggregate_type=avg

    [[chart6]]
        title = UV History
        aggregate_interval = hour
        start_at_whole_hour = true
        gapsize = 3600
        [[[UV]]]
            zIndex = 1
            aggregate_type=avg
            name = UV Index
            color = red
        
[year]
    # Chart Timespan Defaults
    title = "This Year"
    show_button = true
    button_text = "Year"
    type = spline
    time_length = year
    tooltip_date_format = "dddd LL"
    aggregate_type = max
    aggregate_interval = 86400 # 1 day
    gapsize = 86400 # 1 day in seconds

    [[chart1]]
        title = Temperature
        [[[outTemp]]]
            zIndex = 1
            name = Max Temperature
            color = red
        [[[outTemp_min]]]
            name = Min Temperature
            observation_type = outTemp
            aggregate_type = min
            color = "#7cb5ec"
    
    [[chart2]]
        # The combined Wind Chart works best in this configuration
        title = Wind Speed and Direction
        yAxis_min = 0
        [[[windGust]]]
            zIndex = 1
            yAxis = 0
            yAxis_max = 200
        [[[windSpeed]]]
            zIndex = 2
    
    [[chart3]]
        title = Rain
        type = column
        aggregate_type = sum
        aggregate_interval = 2629800 # One Year from now (362.25/12*86400)
        time_length = month_ago_to_now
        time_ago = 12
        start_at_midnight = true
        start_at_beginning_of_month = true
        tooltip_date_format = "MMM YYYY"
        [[[rain]]]
            yAxis = 1
            title = Rain
        [[[rainTotal]]]
            name = Rain Total
            
    
    [[chart4]]
        title = Barometer
        aggregate_type = avg
        [[[barometer]]]
            color = "#BECC00"

    [[chart5]]
        title = AQI History
        gapsize = 3600
        [[[pm2_5_aqi]]]
            zIndex = 1
            aggregate_type=avg
            name = PM 2.5
            color = red
        [[[pm10_0]]]
            name = PM 10.0
            color = purple
            aggregate_type=avg

    [[chart6]]
        title = UV History
        gapsize = 3600
        [[[UV]]]
            zIndex = 1
            aggregate_type=avg
            name = UV Index
            color = red

    [[radialChartName]]
        title = This Year
        css_class = "weatherRadial"
        time_length = year_to_now
        [[[weatherRange]]]
            range_type = outTemp
            area_display = 1
            #polar = true

        
[about]
    show_button = false
    time_length = 172800 # 48 hours in seconds
    aggregate_type = last
    aggregate_interval = 300 # 5 min
    gapsize = 300000 # 5 min
    #aggregate_interval = 1800 # 30 min
    #gapsize = 1800000 # 30 min
    
    [[rxchart]]
        title = ISS Receive Stats
        data_binding = davishealthapi_binding
        yAxis_max = 100
        [[[signalQuality]]]
            color = "#268bd2"
    
    [[rxchartyear]]
        title = ISS Receive Stats Average
        yAxis_max = 100
        xAxis_groupby = month
        xAxis_categories = 'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'
        
        [[[rxCheckPercent]]]
            aggregate_type = avg
            color = "#268bd2"


    [[voltChart]]
        title = Voltages
        type = spline
        data_binding = davishealthapi_binding
        [[[solarRadVolt]]]
        [[[uvVolt]]]

    [[consolehealth]]
        title = Console Health
        type = spline
        data_binding = davishealthapi_binding
        [[[consoleBattery]]]
        [[[consolePower]]]
            

    [[system_usage]]
        title = System Usage
        subtitle = CPU, Memory usage
        data_binding = cmon_binding
        type = spline
        [[[load1]]]
        [[[mem_used]]]            
            color = "#268bd2"

[AQI-UV]
    title = "Air Quality and UV Index"
    show_button = true
    button_text = "AQI/UV"
    time_length = today
    tooltip_date_format = "LLL"
    gapsize = 60 # This should be your archive_interval from weewx.conf

    [[aqiPM25]]
        title = AQI (using PM 2.5)
        type = gauge
        binding = wx_binding
        [[[pm2_5_aqi]]]
            rounded = 1
            colors_enabled = 1
            color1_label = Good
            color1_position = 50
            color1 = "#009966"
            color2_label = Moderate
            color2_position = 100
            color2 = "#ffde33"
            color3_label = Unhealthy for Sensitive Groups
            color3_position = 150
            color3 = "#ff9933"
            color4_label = Unhealthy
            color4_position = 200
            color4 = "#cc0033"
            color5_label = Very unhealthy
            color5_position = 300
            color5 = "#660099"
            color6_label = Hazardous
            color6_position = 500
            color6 = "#7e0023"
            yAxis_min = 0
            yAxis_max = 500


    [[UVIndex]]
        title = UV Index
        type = gauge
        binding = wx_binding
        [[[UV]]]
            rounded = 1
            colors_enabled = 1
            yAxis_min = 0
            yAxis_max = 14
            color1_label = Low
            color1_position = 2
            color1 = "#009966"
            color2_label = Moderate
            color2_position = 5
            color2 = "#ffde33"
            color3_label = High
            color3_position = 7
            color3 = "#ff9933"
            color4_label = Very High
            color4_position = 10
            color4 = "#cc0033"
            color5_label = Extreme
            color5_position = 14
            color5 = "#660099"

    [[aqiPM10]]
        title = AQI (using PM 10.0)
        type = gauge
        binding = wx_binding
        [[[pm10_0]]]
            rounded = 1
            colors_enabled = 1
            color1_label = Good
            color1_position = 54
            color1 = "#009966"
            color2_label = Moderate
            color2_position = 154
            color2 = "#ffde33"
            color3_label = Unhealthy for Sensitive Groups
            color3_position = 254
            color3 = "#ff9933"
            color4_label = Unhealthy
            color4_position = 354
            color4 = "#cc0033"
            color5_label = Very unhealthy
            color5_position = 424
            color5 = "#660099"
            color6_label = Hazardous
            color6_position = 604
            color6 = "#7e0023"
            yAxis_min = 0
            yAxis_max = 604

    [[chart1]]
        title = AQI History
        aggregate_interval = hour
        start_at_whole_hour = true
        gapsize = 3600
        [[[pm2_5_aqi]]]
            zIndex = 1
            aggregate_type=avg
            name = PM 2.5
            color = red
        [[[pm10_0]]]
            name = PM 10.0
            color = purple
            aggregate_type=avg